"use strict";(self.webpackChunkfi=self.webpackChunkfi||[]).push([[5879],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(96540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},37869:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var s=t(64504),a=t(74848),i=t(28453);const r={title:"First third of Advent of Code \u201825 in Java",description:"First third of Advent of Code \u201825.",date:"2025-12-08T06:00",slug:"aoc-2025/third-01",authors:"mf",tags:["advent-of-code","advent-of-code-2025","java"],hide_table_of_contents:!1},o=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Preparations",id:"preparations",level:2},{value:"Library with helpers",id:"library-with-helpers",level:3},{value:"<code>static</code> classes",id:"static-classes",level:4},{value:"Generics for numerics",id:"generics-for-numerics",level:4},{value:"Parsing input",id:"parsing-input",level:4},{value:"<code>Stream</code> helpers from LeetCode",id:"stream-helpers-from-leetcode",level:4},{value:"Abstract class for representing a day",id:"abstract-class-for-representing-a-day",level:3},{value:"Build system and whatnot",id:"build-system-and-whatnot",level:3},{value:"gradle",id:"gradle",level:4},{value:"spotless",id:"spotless",level:4},{value:"testing",id:"testing",level:4},{value:"Day 1: Secret Entrance",id:"day-1-secret-entrance",level:2},{value:"Day 2: Gift Shop",id:"day-2-gift-shop",level:2},{value:"Day 3: Lobby",id:"day-3-lobby",level:2},{value:"Day 4: Printing Department",id:"day-4-printing-department",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["Let's talk about the preparations for this year's ",(0,a.jsx)(n.a,{href:"https://adventofcode.com",children:(0,a.jsx)(n.em,{children:"Advent of Code"})})," and its\nfirst third."]}),"\n",(0,a.jsx)(n.h2,{id:"preparations",children:"Preparations"}),"\n",(0,a.jsx)(n.p,{children:"As usual I prepare the repo for the year and also some kind of a library with\nhelpers that I use regularly during the AoC challenges."}),"\n",(0,a.jsx)(n.h3,{id:"library-with-helpers",children:"Library with helpers"}),"\n",(0,a.jsxs)(n.p,{children:["Library for AoC consists mostly of parsing helpers, as there's a long-going meme\nof referring to ",(0,a.jsx)(n.em,{children:"Advent of Code"})," as ",(0,a.jsx)(n.em,{children:"Advent of Parsing"}),". Additionally it's also\nhelpful to have 2D/3D vectors and maybe math functions or iterators."]}),"\n",(0,a.jsxs)(n.p,{children:["Basic list of helpers I've prepared for myself for the ",(0,a.jsx)(n.em,{children:"Advent of Code in Java"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"IO"})," - for reading an input; as it has a common structure, the sample and the\nchallenge input itself"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"iterators"})," - implementation of the column iterators that are usually needed\nfor iterating over maps, if they occur in the challenge input"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"streams"})," - implementation of some algorithms that generate streams"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"math"})," - GCD and LCM implementations for now as they are not included in the\nJava itself"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"vectors"})," - as always\u2026"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.h4,{id:"static-classes",children:[(0,a.jsx)(n.code,{children:"static"})," classes"]}),"\n",(0,a.jsx)(n.p,{children:"You can probably tell from the prrevious list of helpers that almost all of the\nrequired functionality does not depend on having an instance of a class itself."}),"\n",(0,a.jsx)(n.p,{children:"For example the GCD and LCM doesn't need any instance, they're just simple\nfunctions."}),"\n",(0,a.jsxs)(n.p,{children:["Yet during the testing I've discovered that there's no easy way to deal with\nsuch thing. Classes in Java can be made ",(0,a.jsx)(n.code,{children:"static"}),", but only if they're nested\nwithin some other class which makes them hidden from outside."]}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["Fun thing stemming from this hinderance is the fact that it lowers the test\ncoverage, as the default constructor is made ",(0,a.jsx)(n.code,{children:"private"})," and throws an exception\nto ensure the class cannot be initialized, as it doesn't even make sense\u2026"]})}),"\n",(0,a.jsx)(n.h4,{id:"generics-for-numerics",children:"Generics for numerics"}),"\n",(0,a.jsx)(n.p,{children:"One thing I hated the most about implementing the vectors is the fact that you\ncannot make the vectors generic\u2026"}),"\n",(0,a.jsx)(n.p,{children:"This is caused by non-existing interface for primitive data types. Therefore\nit's not possible to create a generic class for vector."}),"\n",(0,a.jsx)(n.p,{children:"I had to result to implementing two different classes that differ only in the\nunderlying data type of the coordinates:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Representing a 2D or 3D vector having the floating-point coordinates.\npublic class FVec {}\n\n// Representing a 2D or 3D vector having the integral (as \u2039Long\u203a) coordinates.\npublic class IVec {}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"parsing-input",children:"Parsing input"}),"\n",(0,a.jsx)(n.p,{children:"I have started with a simple class that allows me to read the input by lines and\ndo very simple parsing."}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsx)(n.p,{children:"During the testing I've found out that there's an issue with releasing the\nresources, if you read the input via stream, you might either close the file\nbefore finishing the reading, or don't close it at all."}),(0,a.jsxs)(n.p,{children:["The best solution to this is to implement an ",(0,a.jsx)(n.code,{children:"AutoCloseable"})," interface and then\nyou can use the input class as:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'try (var input = new Input(1, "sample")) {\n  // read whatever you want\n}\n'})})]}),"\n",(0,a.jsx)(n.p,{children:"I will leave out the boring technical part and just show how the input class\nworks:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public Stream<String> lines() {\n  return bufferedReader.lines();\n}\n\npublic String asString() {\n  return lines()\n    .reduce((a, b) -> String.format("%s\\n%s", a, b))\n    .orElse("");\n}\n\npublic Stream<Integer> asInts() {\n  return lines().map(Integer::parseInt);\n}\n\npublic Stream<Integer> asCommaSeparatedInts() {\n  return Arrays\n    .stream(asString().split(","))\n    .map(Integer::parseInt);\n}\n'})}),"\n",(0,a.jsxs)(n.h4,{id:"stream-helpers-from-leetcode",children:[(0,a.jsx)(n.code,{children:"Stream"})," helpers from LeetCode"]}),"\n",(0,a.jsxs)(n.p,{children:["Also I've been able to snatch some ",(0,a.jsx)(n.code,{children:"Stream"})," helpers after doing the LeetCode\nchallenges. They cover the following functionality:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"range()"})," that generates a stream in a similar fashion as the Python function,\nyou might know, would"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"indices()"})," that returns a stream of indices over an array or a ",(0,a.jsx)(n.code,{children:"List<T>"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"product()"})," that takes two functions that can generate streams and returns\na stream of cartesian product over said streams"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"zip()"})," that \u201czips\u201d two streams; providing both customizable zipping and\nsimple zip that just returns pairs of values"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"abstract-class-for-representing-a-day",children:"Abstract class for representing a day"}),"\n",(0,a.jsx)(n.p,{children:"Each day runs in the same way, the only difference is in the parsing and solving\nthe challenge itself. Each day has both parts, nowadays a sample input with\nprovided answers for testing. Therefore I have created for myself an abstract\nclass that takes care of these things:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"abstract class Day<T1, T2> {\n  abstract void precompute();\n\n  abstract T1 part1();\n  abstract T2 part2();\n\n  abstract void runAll();\n}\n"})}),"\n",(0,a.jsx)(n.admonition,{title:"Generics",type:"tip",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"T1"})," and ",(0,a.jsx)(n.code,{children:"T2"})," represent return types of the results from the parts of the\nchallenge. They're usually the same type, but sometime they may differ."]})}),"\n",(0,a.jsxs)(n.p,{children:["I have added a ",(0,a.jsx)(n.code,{children:"precompute()"})," method in case there are some things that could be\nprecomputed for both parts right after parsing."]}),"\n",(0,a.jsxs)(n.p,{children:["Also with Java I've run into a limitation that doesn't allow me to test sample\ninputs and run for the challenge input without a lot of copy-paste, so I've\ncreated an abstract ",(0,a.jsx)(n.code,{children:"runAll()"})," method which gets called when running the whole\napp and can be used in a following way:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Override\nvoid runAll() {\n  new Day01("sample").test(42, 69);\n  new Day01("input").run();\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Still an annoying and technically a copy-paste, but somehow better."}),"\n",(0,a.jsx)(n.h3,{id:"build-system-and-whatnot",children:"Build system and whatnot"}),"\n",(0,a.jsx)(n.p,{children:"Since it's Java and I have my own library in a separate repository there's\na need to use some kind of a build system and also other tools."}),"\n",(0,a.jsx)(n.h4,{id:"gradle",children:"gradle"}),"\n",(0,a.jsx)(n.p,{children:"It has already been some years I had Java course at the university, where we\nused Maven. And I've read some stuff about gradle, also it was used in the AoC\ntemplate for Kotlin done by the JetBrains, so it wasn't very hard to adapt."}),"\n",(0,a.jsx)(n.p,{children:"Though there were some issues hit, I'll get to them later on."}),"\n",(0,a.jsx)(n.h4,{id:"spotless",children:"spotless"}),"\n",(0,a.jsxs)(n.p,{children:["While writing the library I noticed that it's rather hard to have consistent\nformatting and the VSCode extensions don't do a very good job with formatting\nand cleaning up imports and such. I searched a bit on ","\ud83e\udd86"," and found\n",(0,a.jsx)(n.a,{href:"https://github.com/diffplug/spotless",children:(0,a.jsx)(n.em,{children:"spotless"})}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Looking at the git repository now I have to admit that it can be applied to a\nmultitude of languages, so they must be doing something right\u2026"}),"\n",(0,a.jsx)(n.h4,{id:"testing",children:"testing"}),"\n",(0,a.jsx)(n.p,{children:"For the library I've decided to use whatever was in the gradle template for Java\nlibrary."}),"\n",(0,a.jsx)(n.p,{children:"As for the puzzle solutions themselves\u2026 That's rough to decide:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["with Kotlin it was a matter of simple ",(0,a.jsx)(n.code,{children:"check()"})," statements that throw an\nexception if the assertion fails"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["with Rust I had a very good experience using my own macro machinery to create\na ",(0,a.jsx)(n.em,{children:"mod"})," with tests for each day; I have to admit that this setup together with\n",(0,a.jsx)(n.a,{href:"https://github.com/Canop/bacon",children:(0,a.jsx)(n.em,{children:"bacon"})})," has been the best I've ever achieved"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This time I have decided to go with two separate \u201crunners\u201d in the abstract class\nfor each day:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"run()"})," that simply runs and reports from each part:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'void run() {\n  System.out.format("\\n[TRACE] Running input:\\t\u2039%s\u203a\\n", inputType);\n\n  System.out.println("  [INFO] Running precompute()");\n  precompute();\n\n  System.out.print("  [INFO] Part 1:\\t");\n  System.out.println(part1());\n\n  System.out.print("  [INFO] Part 2:\\t");\n  System.out.println(part2());\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["and ",(0,a.jsx)(n.code,{children:"test(x, y)"})," that does basically the same, but also checks the results:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'void test(T1 answer1, T2 answer2) {\n  System.out.format("\\n[TRACE] Testing input:\\t\u2039%s\u203a\\n", inputType);\n\n  System.out.println("  [INFO] Running precompute()");\n  precompute();\n\n  if (answer1 != null) {\n    System.out.print("  [INFO] Part 1:\\t");\n\n    var result1 = part1();\n    if (!result1.equals(answer1)) {\n      System.out.printf("[KO] Given answer: \u2039%s\u203a (expected \u2039%s\u203a)\\n", result1, answer1);\n    } else {\n      System.out.println("[OK]");\n    }\n  }\n\n  if (answer2 != null) {\n    System.out.print("  [INFO] Part 2:\\t");\n\n    var result2 = part2();\n    if (!result2.equals(answer2)) {\n      System.out.printf("[KO] Given answer: \u2039%s\u203a (expected \u2039%s\u203a)\\n", result2, answer2);\n    } else {\n      System.out.println("[OK]");\n    }\n  }\n}\n\nvoid test(T1 answer1) {\n  test(answer1, null);\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"day-1-secret-entrance",children:(0,a.jsx)(n.a,{href:"https://adventofcode.com/2025/day/1",children:"Day 1: Secret Entrance"})}),"\n",(0,a.jsx)(n.admonition,{title:"tl;dr",type:"info",children:(0,a.jsx)(n.p,{children:"A sprinkling of modular arithmetics trying to crack a code to a vault."})}),"\n",(0,a.jsxs)(n.p,{children:["I didn't expect to smack an ",(0,a.jsx)(n.code,{children:"enum"})," class and ",(0,a.jsx)(n.code,{children:"record"})," right away on the first\nday, but here we go."]}),"\n",(0,a.jsxs)(n.p,{children:["Overall haven't hit any issues. Except for the fact that closures are something\nthat Java has never been designed for\u2026 Which means that you cannot modify\nreferences of higher data types or values of primitive data types of variables\nfrom an outer scope of a closure\u2026 This is something that I don't really like\nand it kinda defeats a purpose of ",(0,a.jsx)(n.code,{children:".reduce()"})," or ",(0,a.jsx)(n.code,{children:".forEach()"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"day-2-gift-shop",children:(0,a.jsx)(n.a,{href:"https://adventofcode.com/2025/day/2",children:"Day 2: Gift Shop"})}),"\n",(0,a.jsx)(n.admonition,{title:"tl;dr",type:"info",children:(0,a.jsxs)(n.p,{children:["Comma-separated ranges\u2026 Quite obvious ",(0,a.jsx)(n.code,{children:"int"})," won't do here\u2026 Adjustment for\nsecond part can be a bit worse if you try to go for the simplest possible\nsolution :)"]})}),"\n",(0,a.jsx)(n.p,{children:"You could choose to solve this by having \u201cfun\u201d with strings, or if you are\ncapable of running the mental masturbation, you can also have fun with decimal\nnumeral system."}),"\n",(0,a.jsx)(n.p,{children:"Chosen the latter, though the adjustment for the second part was not that easy\u2026"}),"\n",(0,a.jsx)(n.p,{children:"Leading zeroes were something that caused some trouble on my end, but I got over\nit."}),"\n",(0,a.jsx)(n.h2,{id:"day-3-lobby",children:(0,a.jsx)(n.a,{href:"https://adventofcode.com/2025/day/3",children:"Day 3: Lobby"})}),"\n",(0,a.jsx)(n.admonition,{title:"tl;dr",type:"info",children:(0,a.jsxs)(n.p,{children:["Min-maxxing the joltage on the batteries. Starts to feel like there's a theme\nof screwing around with base 10 numeral system ","\ud83d\udc40"]})}),"\n",(0,a.jsx)(n.p,{children:"Part 1 was relatively easy\u2026 a lot of copy-paste in the first solution."}),"\n",(0,a.jsxs)(n.p,{children:["Part 2\u2026 that was not okay and it took some time to get over it. Probably had\na bad sleep or something, I knew what I want to do, but I just couldn't write it\nin the code and always hit some problem, almost felt like a ",(0,a.jsx)(n.em,{children:"whack-a-mole"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"day-4-printing-department",children:(0,a.jsx)(n.a,{href:"https://adventofcode.com/2025/day/4",children:"Day 4: Printing Department"})}),"\n",(0,a.jsx)(n.admonition,{title:"tl;dr",type:"info",children:(0,a.jsx)(n.p,{children:"Having fun with rolls of toilet paper on a 2D grid\u2026"})}),"\n",(0,a.jsx)(n.p,{children:"Pretty straightforward for solving\u2026 Initial solution contained quite a lot of\ncopy-paste, of course."}),"\n",(0,a.jsx)(n.p,{children:"Trying to refactor the solution brought to surface first issues with Java\u2026 What\nI hate the most, is the fact that I am not able to make type aliases correctly.\nThe closest I've gotten to a type alias is something like:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"private class Index extends Pair<Integer, Integer> {}\n"})}),"\n",(0,a.jsx)(n.p,{children:"However that creates issues on its own, because, well, it utilizes the\ninheritance to construct a type alias. And the properties of the inheritance are\nthe issue here."}),"\n",(0,a.jsxs)(n.p,{children:["More specifically, as you may know from OOP, you can reference objects of\n",(0,a.jsx)(n.code,{children:"Index"})," as ",(0,a.jsx)(n.code,{children:"Pair<Integer, Integer>"})," as they \u201cextend\u201d the latter type, but you\ncannot do that in the other way\u2026 Because ",(0,a.jsx)(n.code,{children:"Pair<Integer, Integer>"})," doesn't have\nto, and usually doesn't, implement anything under the ",(0,a.jsx)(n.code,{children:"Index"}),". Even though we\ndon't add anything, there's not an easy way to tell\u2026"]}),"\n",(0,a.jsxs)(n.p,{children:["This is the first day where I started to abuse the relatively new ",(0,a.jsx)(n.code,{children:"Stream"}),"\nfeatures of Java ","\ud83d\ude09"," More specifically, part 2 of the puzzle was to repeat\npart 1 until you run out of possible candidates. You can probably tell that the\nfirst go-to of anyone would be to go for ",(0,a.jsx)(n.code,{children:"do-while"})," loop, which I did in the\ninitial solution, but then I thought that it might be possible to just \u201cabuse\u201d\nthe ",(0,a.jsx)(n.code,{children:"Stream"})," ","\ud83d\ude08"," so I did\u2026"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"return Stream.iterate(\n  removableRoles().toList(),\n  indices -> !indices.isEmpty(),\n  indices -> {\n    indices.forEach(idx -> map[idx.first()][idx.second()] = 'x');\n    return removableRoles().toList();\n  })\n  .mapToLong(roles -> roles.size())\n  .sum();\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},64504:e=>{e.exports=JSON.parse('{"permalink":"/blog/aoc-2025/third-01","editUrl":"https://github.com/mfocko/blog/tree/main/blog/aoc-2025/01-third.md","source":"@site/blog/aoc-2025/01-third.md","title":"First third of Advent of Code \u201825 in Java","description":"First third of Advent of Code \u201825.","date":"2025-12-08T06:00:00.000Z","tags":[{"inline":true,"label":"advent-of-code","permalink":"/blog/tags/advent-of-code"},{"inline":true,"label":"advent-of-code-2025","permalink":"/blog/tags/advent-of-code-2025"},{"inline":true,"label":"java","permalink":"/blog/tags/java"}],"readingTime":9.085,"hasTruncateMarker":true,"authors":[{"name":"Matej Focko","email":"me+blog@mfocko.xyz","title":"a.k.a. @mf","url":"https://gitlab.com/mfocko","imageURL":"https://github.com/mfocko.png","key":"mf","page":null}],"frontMatter":{"title":"First third of Advent of Code \u201825 in Java","description":"First third of Advent of Code \u201825.","date":"2025-12-08T06:00","slug":"aoc-2025/third-01","authors":"mf","tags":["advent-of-code","advent-of-code-2025","java"],"hide_table_of_contents":false},"unlisted":false,"nextItem":{"title":"Raspberry Alma","permalink":"/blog/2024/07/20/raspberry-alma"}}')}}]);